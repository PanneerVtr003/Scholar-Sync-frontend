<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Student Learning Assistant</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            background-color: #f5f7fb;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .dashboard-header {
            text-align: center;
            margin-bottom: 30px;
            color: #2c3e50;
        }
        
        .dashboard-header h1 {
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        .dashboard-header p {
            color: #7f8c8d;
            font-size: 1.1rem;
        }
        
        .main-content {
            display: flex;
            gap: 20px;
        }
        
        .chat-section {
            flex: 2;
        }
        
        .tools-section {
            flex: 1;
        }
        
        .chatbot-container {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            margin-bottom: 20px;
        }
        
        .chatbot-messages {
            height: 400px;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .message {
            max-width: 75%;
            padding: 12px 16px;
            border-radius: 18px;
            line-height: 1.4;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .message.user {
            background-color: #3498db;
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }
        
        .message.bot {
            background-color: #f0f2f5;
            color: #2c3e50;
            align-self: flex-start;
            border-bottom-left-radius: 5px;
        }
        
        .message-content {
            margin-bottom: 5px;
        }
        
        .message-actions {
            display: flex;
            gap: 10px;
            margin-top: 8px;
            font-size: 0.8rem;
        }
        
        .action-btn {
            background: none;
            border: none;
            color: #3498db;
            cursor: pointer;
            padding: 0;
            font-size: 0.8rem;
        }
        
        .action-btn:hover {
            text-decoration: underline;
        }
        
        .chatbot-input {
            display: flex;
            padding: 15px;
            border-top: 1px solid #eee;
            background-color: #f9f9f9;
        }
        
        .chatbot-input input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 20px;
            outline: none;
            transition: border-color 0.3s;
        }
        
        .chatbot-input input:focus {
            border-color: #3498db;
        }
        
        .chatbot-input button {
            margin-left: 10px;
            border-radius: 20px;
            padding: 10px 20px;
            font-weight: 500;
        }
        
        .upload-btn {
            background-color: #2ecc71;
            color: white;
            border: none;
            border-radius: 20px;
            padding: 10px 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .upload-btn:hover {
            background-color: #27ae60;
        }
        
        .tools-card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .tools-card h3 {
            color: #2c3e50;
            font-weight: 600;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .tools-card h3 i {
            color: #3498db;
        }
        
        .tools-list {
            list-style: none;
            padding: 0;
        }
        
        .tools-list li {
            padding: 10px 0;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .tools-list li:last-child {
            border-bottom: none;
        }
        
        .tools-list li i {
            color: #3498db;
            width: 20px;
        }
        
        .btn-secondary {
            background-color: #ecf0f1;
            border: none;
            color: #2c3e50;
            white-space: normal;
            text-align: left;
            padding: 10px 15px;
            border-radius: 8px;
            transition: all 0.2s;
            max-width: 300px;
            width: 100%;
            margin-bottom: 10px;
        }
        
        .btn-secondary:hover:not(:disabled) {
            background-color: #dde4e6;
            transform: translateY(-2px);
        }
        
        .suggested-questions {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 1rem;
        }
        
        .typing-indicator {
            display: inline-block;
            position: relative;
            width: 80px;
            height: 40px;
        }
        
        .typing-dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #7f8c8d;
            position: absolute;
            animation: typing 1.4s infinite;
        }
        
        .typing-dot:nth-child(1) {
            left: 8px;
            animation-delay: 0s;
        }
        
        .typing-dot:nth-child(2) {
            left: 16px;
            animation-delay: 0.2s;
        }
        
        .typing-dot:nth-child(3) {
            left: 24px;
            animation-delay: 0.4s;
        }
        
        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-5px);
            }
        }
        
        .file-upload {
            display: none;
        }
        
        .upload-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }
        
        .file-name {
            font-size: 0.9rem;
            color: #7f8c8d;
        }
        
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
        }

        /* Footer Styles */
footer {
    background: linear-gradient(135deg, var(--secondary), var(--dark));
    color: white;
    padding: 2rem 0 1rem;
    margin-top: auto;
}

footer .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 15px;
    width: 100%;
}

.footer-content {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    margin-bottom: 2rem;
}

@media (min-width: 576px) {
    .footer-content {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (min-width: 992px) {
    .footer-content {
        grid-template-columns: repeat(4, 1fr);
    }
}

.footer-column {
    display: flex;
    flex-direction: column;
}

.footer-column h3 {
    margin-bottom: 1.2rem;
    font-size: 1.2rem;
    position: relative;
    padding-bottom: 0.5rem;
}

.footer-column h3::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 40px;
    height: 2px;
    background-color: var(--primary);
}

.footer-column p {
    color: rgba(255, 255, 255, 0.8);
    margin-bottom: 1rem;
    line-height: 1.6;
}

.footer-column ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.footer-column li {
    margin-bottom: 0.8rem;
    transition: transform 0.3s ease;
}

.footer-column li:hover {
    transform: translateX(5px);
}

.footer-column a {
    color: rgba(255, 255, 255, 0.8);
    text-decoration: none;
    transition: var(--transition);
    display: inline-block;
    padding: 2px 0;
}

.footer-column a:hover {
    color: white;
    transform: translateX(3px);
}

.social-links {
    display: flex;
    gap: 1rem;
    margin-top: 1rem;
}

.social-links a {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.1);
    color: white;
    transition: var(--transition);
}

.social-links a:hover {
    background: var(--primary);
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

.copyright {
    text-align: center;
    padding-top: 2rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.6);
    font-size: 0.9rem;
}

/* Animation for footer elements on load */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.footer-column:nth-child(1) {
    animation: fadeInUp 0.6s ease forwards;
}

.footer-column:nth-child(2) {
    animation: fadeInUp 0.8s ease forwards;
}

.footer-column:nth-child(3) {
    animation: fadeInUp 1s ease forwards;
}

.footer-column:nth-child(4) {
    animation: fadeInUp 1.2s ease forwards;
}

/* Responsive adjustments for very small screens */
@media (max-width: 576px) {
    footer {
        padding: 1.5rem 0 1rem;
    }
    
    .footer-content {
        gap: 1.5rem;
    }
    
    .footer-column h3 {
        font-size: 1.1rem;
        margin-bottom: 1rem;
    }
    
    .social-links {
        justify-content: center;
    }
    
    .copyright {
        padding-top: 1.5rem;
    }
}

/* Hover effects for better interactivity */
.footer-column li a {
    position: relative;
}

.footer-column li a::before {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 0;
    height: 1px;
    background-color: var(--primary);
    transition: width 0.3s ease;
}

.footer-column li a:hover::before {
    width: 100%;
}

/* Print styles */
@media print {
    footer {
        display: none;
    }
}
    </style>
</head>
<body>
    <div class="container">
        <div class="dashboard-header">
            <h1>Enhanced Learning Assistant</h1>
            <p>Get help with summarizing, studying, and improving your grades</p>
        </div>

        <div class="main-content">
            <div class="chat-section">
                <div class="chatbot-container">
                    <div class="chatbot-messages" id="chatbot-messages">
                        <div class="message bot">
                            <div class="message-content">
                                Hello! I'm your enhanced learning assistant. I can help you summarize documents, 
                                provide study guidance, and suggest ways to improve your grades. How can I assist you today?
                            </div>
                        </div>
                    </div>
                    
                    <div class="chatbot-input">
                        <input
                            type="text"
                            id="chat-input"
                            placeholder="Type your question or request here..."
                        />
                        <button 
                            type="button" 
                            class="btn btn-primary"
                            id="send-button"
                        >
                            Send
                        </button>
                        <label for="file-upload" class="upload-btn">
                            <i class="fas fa-file-upload"></i> Upload
                        </label>
                        <input id="file-upload" type="file" class="file-upload" accept=".pdf,.doc,.docx,.txt">
                    </div>
                    <div id="upload-container" class="upload-container" style="display: none;">
                        <span class="file-name" id="file-name">No file selected</span>
                        <button type="button" class="btn btn-sm btn-outline-secondary" id="analyze-btn" disabled>Analyze</button>
                    </div>
                </div>

                <div class="tools-card">
                    <h3><i class="fas fa-lightbulb"></i> Suggested Questions</h3>
                    <div class="suggested-questions">
                        <button class="btn btn-secondary suggested-btn">
                            Can you summarize this document for me?
                        </button>
                        <button class="btn btn-secondary suggested-btn">
                            How can I improve my grade in Biology?
                        </button>
                        <button class="btn btn-secondary suggested-btn">
                            What are effective study techniques for exams?
                        </button>
                        <button class="btn btn-secondary suggested-btn">
                            Can you create a study plan for my upcoming test?
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="tools-section">
                <div class="tools-card">
                    <h3><i class="fas fa-tools"></i> Assistant Tools</h3>
                    <ul class="tools-list">
                        <li><i class="fas fa-file-alt"></i> Document summarization</li>
                        <li><i class="fas fa-book"></i> Study guidance</li>
                        <li><i class="fas fa-chart-line"></i> Grade improvement tips</li>
                        <li><i class="fas fa-calendar"></i> Study plan creation</li>
                        <li><i class="fas fa-search"></i> PDF content analysis</li>
                        <li><i class="fas fa-sticky-note"></i> Note-taking assistance</li>
                    </ul>
                </div>
                
                <div class="tools-card">
                    <h3><i class="fas fa-graduation-cap"></i> Study Resources</h3>
                    <ul class="tools-list">
                        <li><i class="fas fa-link"></i> <a href="#">Learning strategies guide</a></li>
                        <li><i class="fas fa-link"></i> <a href="#">Effective note-taking methods</a></li>
                        <li><i class="fas fa-link"></i> <a href="#">Time management tips</a></li>
                        <li><i class="fas fa-link"></i> <a href="#">Exam preparation resources</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    
    <!-- Footer -->
    <footer id="contact">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>EduSphere</h3>
                    <p>Transforming education through technology and innovation.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="#features">Features</a></li>
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Contact</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Student Resources</h3>
                    <ul>
                        <li><a href="login.html">Student Login</a></li>
                        <li><a href="register.html">Student Registration</a></li>
                        <li><a href="dashboard.html">Dashboard</a></li>
                        <li><a href="course-test.html">Course Tests</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Tutor Resources</h3>
                    <ul>
                        <li><a href="login.html">Tutor Login</a></li>
                        <li><a href="#">Tutor Registration</a></li>
                        <li><a href="teacher-dashboard.html">Tutor Dashboard</a></li>
                        <li><a href="data-retrieval.html">Student Data</a></li>
                    </ul>
                </div>
            </div>
            
            
        </div>
        <div class="copyright">
                <p>&copy; 2023 EduSphere. All rights reserved.</p>
            </div>
    </footer>


    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const messages = [
                { 
                    text: "Hello! I'm your enhanced learning assistant. I can help you summarize documents, provide study guidance, and suggest ways to improve your grades. How can I assist you today?", 
                    sender: 'bot' 
                }
            ];
            
            const messagesContainer = document.getElementById('chatbot-messages');
            const chatInput = document.getElementById('chat-input');
            const sendButton = document.getElementById('send-button');
            const suggestedButtons = document.querySelectorAll('.suggested-btn');
            const fileUpload = document.getElementById('file-upload');
            const fileName = document.getElementById('file-name');
            const uploadContainer = document.getElementById('upload-container');
            const analyzeBtn = document.getElementById('analyze-btn');
            
            let loading = false;
            let currentFile = null;
            
            // Function to add a message to the chat
            function addMessage(text, sender, actions = []) {
                const messageElement = document.createElement('div');
                messageElement.classList.add('message', sender);
                
                const messageContent = document.createElement('div');
                messageContent.classList.add('message-content');
                messageContent.textContent = text;
                messageElement.appendChild(messageContent);
                
                if (actions.length > 0) {
                    const actionsElement = document.createElement('div');
                    actionsElement.classList.add('message-actions');
                    
                    actions.forEach(action => {
                        const button = document.createElement('button');
                        button.classList.add('action-btn');
                        button.textContent = action.text;
                        button.addEventListener('click', action.handler);
                        actionsElement.appendChild(button);
                    });
                    
                    messageElement.appendChild(actionsElement);
                }
                
                messagesContainer.appendChild(messageElement);
                
                // Scroll to bottom
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }
            
            // Function to show loading indicator
            function showLoading() {
                if (loading) return;
                
                loading = true;
                const loadingElement = document.createElement('div');
                loadingElement.classList.add('message', 'bot');
                loadingElement.id = 'loading-indicator';
                
                const typingIndicator = document.createElement('div');
                typingIndicator.classList.add('typing-indicator');
                
                for (let i = 0; i < 3; i++) {
                    const dot = document.createElement('div');
                    dot.classList.add('typing-dot');
                    typingIndicator.appendChild(dot);
                }
                
                loadingElement.appendChild(typingIndicator);
                messagesContainer.appendChild(loadingElement);
                
                // Scroll to bottom
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
                
                // Disable input and buttons
                chatInput.disabled = true;
                sendButton.disabled = true;
                suggestedButtons.forEach(btn => btn.disabled = true);
                analyzeBtn.disabled = true;
            }
            
            // Function to hide loading indicator
            function hideLoading() {
                loading = false;
                const loadingElement = document.getElementById('loading-indicator');
                if (loadingElement) {
                    loadingElement.remove();
                }
                
                // Enable input and buttons
                chatInput.disabled = false;
                sendButton.disabled = false;
                suggestedButtons.forEach(btn => btn.disabled = false);
                analyzeBtn.disabled = !currentFile;
            }
            
            // Function to handle document summarization
            function handleSummarization(text) {
                if (text.length < 100) {
                    return "The text is too short to summarize effectively. Please provide a longer document or text.";
                }
                
                // Simple summarization algorithm (in a real application, this would be more sophisticated)
                const sentences = text.split('. ');
                const importantSentences = sentences.filter(sentence => 
                    sentence.length > 20 && 
                    (sentence.includes('important') || 
                     sentence.includes('conclusion') || 
                     sentence.includes('result') || 
                     sentence.includes('findings') ||
                     sentence.match(/[A-Z][a-z]+ [A-Z][a-z]+/)) // Proper nouns might indicate important concepts
                );
                
                if (importantSentences.length === 0) {
                    return "Summary: " + sentences.slice(0, 3).join('. ') + ".";
                }
                
                return "Summary: " + importantSentences.slice(0, 4).join('. ') + ".";
            }
            
            // Function to handle study guidance requests
            function handleStudyGuidance(topic) {
                const guidance = {
                    math: "For math, practice is key. Work on problems regularly, understand the underlying concepts, and review mistakes. Consider forming a study group to explain concepts to others.",
                    biology: "Biology requires both memorization and understanding. Create concept maps, use flashcards for terminology, and relate concepts to real-world examples. Draw diagrams to visualize processes.",
                    history: "Create timelines to understand historical events in context. Focus on cause and effect relationships. Use mnemonic devices to remember important dates and figures.",
                    chemistry: "Understand the periodic table trends. Practice balancing equations. Use molecular model kits to visualize structures. Practice problem-solving regularly.",
                    physics: "Focus on understanding fundamental principles. Practice deriving equations. Draw diagrams for problem visualization. Work on problems step by step.",
                    literature: "Take notes while reading. Pay attention to themes, character development, and literary devices. Discuss interpretations with classmates to gain different perspectives.",
                    general: "Space out your study sessions (spaced repetition). Test yourself regularly. Find a quiet study space. Teach concepts to someone else to solidify your understanding."
                };
                
                const lowerTopic = topic.toLowerCase();
                for (const [key, value] of Object.entries(guidance)) {
                    if (lowerTopic.includes(key)) {
                        return value;
                    }
                }
                
                return guidance.general;
            }
            
            // Function to handle grade improvement requests
            function handleGradeImprovement(subject) {
                const improvements = {
                    math: "To improve in math: 1) Identify specific areas of weakness, 2) Practice problems daily, 3) Seek help from your instructor, 4) Review mistakes thoroughly, 5) Use online resources like Khan Academy for extra practice.",
                    biology: "To improve in biology: 1) Create detailed concept maps, 2) Use flashcards for terminology, 3) Draw and label diagrams, 4) Explain concepts to others, 5) Relate topics to real-world applications.",
                    general: "To improve your grades: 1) Review past assignments and exams to identify patterns in mistakes, 2) Meet with your instructor to discuss improvement strategies, 3) Form a study group, 4) Improve time management, 5) Ensure you're getting enough sleep before exams."
                };
                
                const lowerSubject = subject.toLowerCase();
                for (const [key, value] of Object.entries(improvements)) {
                    if (lowerSubject.includes(key)) {
                        return value;
                    }
                }
                
                return improvements.general;
            }
            
            // Function to simulate bot response
            function getBotResponse(userInput) {
                const lowerInput = userInput.toLowerCase();
                
                if (lowerInput.includes("summar") || lowerInput.includes("document") || lowerInput.includes("text")) {
                    return "I can summarize text or documents for you. Please paste the text you'd like me to summarize or upload a document.";
                }
                else if (lowerInput.includes("study") || lowerInput.includes("learn") || lowerInput.includes("exam")) {
                    const subject = lowerInput.includes("math") ? "math" : 
                                  lowerInput.includes("bio") ? "biology" : 
                                  lowerInput.includes("history") ? "history" : 
                                  lowerInput.includes("chem") ? "chemistry" : 
                                  lowerInput.includes("physics") ? "physics" : 
                                  lowerInput.includes("literature") ? "literature" : "general";
                    return handleStudyGuidance(subject);
                }
                else if (lowerInput.includes("improve") || lowerInput.includes("grade") || lowerInput.includes("mark")) {
                    const subject = lowerInput.includes("math") ? "math" : 
                                  lowerInput.includes("bio") ? "biology" : "general";
                    return handleGradeImprovement(subject);
                }
                else if (lowerInput.includes("hello") || lowerInput.includes("hi") || lowerInput.includes("hey")) {
                    return "Hello! How can I help you with your studies today?";
                }
                else if (lowerInput.includes("thank")) {
                    return "You're welcome! Is there anything else I can help you with?";
                }
                else {
                    return "I understand you're asking about: " + userInput + ". As a learning assistant, I can help you with summarizing documents, providing study guidance, and suggesting ways to improve your grades. How can I assist you with these areas?";
                }
            }
            
            // Handle send button click
            sendButton.addEventListener('click', function() {
                const inputText = chatInput.value.trim();
                if (!inputText) return;
                
                // Add user message
                addMessage(inputText, 'user');
                chatInput.value = '';
                
                // Show loading and simulate bot response
                showLoading();
                
                setTimeout(() => {
                    hideLoading();
                    
                    // Add bot response
                    const botResponse = getBotResponse(inputText);
                    addMessage(botResponse, 'bot', [
                        { text: "Suggest study plan", handler: () => {
                            addMessage("Can you create a study plan for my upcoming test?", 'user');
                            showLoading();
                            setTimeout(() => {
                                hideLoading();
                                addMessage("Sure! I can help create a study plan. Please tell me: 1) What subject is the test on? 2) When is the test? 3) How many hours can you study each day?", 'bot');
                            }, 1000);
                        }},
                        { text: "Provide summary", handler: () => {
                            addMessage("Can you summarize this for me?", 'user');
                            showLoading();
                            setTimeout(() => {
                                hideLoading();
                                addMessage("I'd be happy to summarize content for you. Please paste the text you want me to summarize or upload a document using the upload button.", 'bot');
                            }, 1000);
                        }}
                    ]);
                }, 1500);
            });
            
            // Handle enter key in input
            chatInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendButton.click();
                }
            });
            
            // Handle suggested questions
            suggestedButtons.forEach(button => {
                button.addEventListener('click', function() {
                    if (loading) return;
                    
                    const question = this.textContent;
                    chatInput.value = question;
                    sendButton.click();
                });
            });
            
            // Handle file upload
            fileUpload.addEventListener('change', function(e) {
                if (this.files && this.files[0]) {
                    currentFile = this.files[0];
                    fileName.textContent = currentFile.name;
                    uploadContainer.style.display = 'flex';
                    analyzeBtn.disabled = false;
                }
            });
            
            // Handle analyze button
            analyzeBtn.addEventListener('click', function() {
                if (!currentFile) return;
                
                showLoading();
                
                // Simulate file processing
                setTimeout(() => {
                    hideLoading();
                    
                    const fileExtension = currentFile.name.split('.').pop().toLowerCase();
                    
                    if (fileExtension === 'pdf') {
                        addMessage(`I've analyzed your PDF document (${currentFile.name}). I found 15 key points about cellular biology. Would you like me to:`, 'bot', [
                            { text: "Summarize", handler: () => {
                                addMessage("Please summarize the PDF", 'user');
                                showLoading();
                                setTimeout(() => {
                                    hideLoading();
                                    addMessage("Based on the PDF, here's a summary: The document covers the fundamentals of cellular biology, including cell structure, function, division, and energy production. Key topics include organelles' functions, mitosis and meiosis processes, and cellular respiration. The document emphasizes how cells are the basic building blocks of all living organisms.", 'bot');
                                }, 1500);
                            }},
                            { text: "Create study guide", handler: () => {
                                addMessage("Create a study guide from the PDF", 'user');
                                showLoading();
                                setTimeout(() => {
                                    hideLoading();
                                    addMessage("I've created a study guide from your PDF with: 1) Key terminology flashcards, 2) Diagrams of cell structures, 3) Comparison tables of mitosis vs meiosis, 4) Practice questions on cellular respiration, 5) Summary of key concepts. Would you like me to email this to you?", 'bot');
                                }, 1500);
                            }}
                        ]);
                    } else {
                        addMessage(`I've processed your ${fileExtension.toUpperCase()} file (${currentFile.name}). How would you like me to help with this document?`, 'bot', [
                            { text: "Summarize", handler: () => {
                                addMessage("Please summarize this document", 'user');
                                showLoading();
                                setTimeout(() => {
                                    hideLoading();
                                    addMessage("The document discusses the impact of climate change on marine ecosystems. Key points include: rising sea temperatures affecting coral reefs, ocean acidification impacting shell-forming organisms, changing migration patterns of marine species, and potential solutions for mitigation and adaptation.", 'bot');
                                }, 1500);
                            }},
                            { text: "Extract key points", handler: () => {
                                addMessage("Extract key points from this document", 'user');
                                showLoading();
                                setTimeout(() => {
                                    hideLoading();
                                    addMessage("Key points extracted: 1) Climate change causes sea temperature rise, 2) Coral bleaching events have increased by 30%, 3) Ocean pH has decreased by 0.1 units since pre-industrial times, 4) 25% of marine species have altered migration patterns, 5) Conservation efforts focus on protected marine areas.", 'bot');
                                }, 1500);
                            }}
                        ]);
                    }
                    
                    // Reset file input
                    fileUpload.value = '';
                    currentFile = null;
                    fileName.textContent = 'No file selected';
                    uploadContainer.style.display = 'none';
                }, 2000);
            });
            
            // Focus input on load
            chatInput.focus();
        });
    </script>
</body>
</html>